{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>setting</title>
    <link rel="stylesheet" href="{% static 'css/setting.css' %}"/>
</head>
<body>
{% block navbar %}
{% include "partials/base.html" %}
{% endblock%}
{% block content %}
    <div id="main">
        <div style="border: 1px">
            <span style="margin-top:20px;font-size:40px;"><strong>ê°œì¸ ì •ë³´ ìˆ˜ì • ğŸ”</strong></span>
        </div>
    </div>

    <div id="table">
        <br>
        <div style="border: 1px">
            <span style="margin-top:20px;font-size:40px;"></span>
        </div>
        <table border="1">
            <tr>
                <th>ì•„ì´ë””</th>
                <td>
                    <label for="changeid"></label>
                    <input type="text" id="changeid" name="changeid" placeholder="{{user.name}}">
                    <button type="cofirm">ì¤‘ë³µ í™•ì¸</button>
                </td>
            </tr>

            <tr>
                <th>ì´ë¦„</th>
                <td>{{user.name}}</td>
            </tr>
            <tr>
                <th>ì„±ë³„</th>
                <td><label for="sex"></label>
                    <input type="radio" name="gender" value="female">ì—¬ì„±</option>
                    <input type="radio" name="gender" value="male">ë‚¨ì„±</option>
                </select>
                </td>
            </tr>

            <!-- <tr>
                <th>ë‹‰ë„¤ì„</th>
                <td>
                    <label for="changenick"></label>
                    <input type="text" id="changenick" name="changenick" placeholder="{{user.nickname}}">
                </td>
            </tr> -->

            <tr>
                <th>ì£¼ì†Œ</th>
                <td>
                    <input type="text" id="sample6_postcode" placeholder="{{user.postcode}}">
                    <input type="button" onclick="sample6_execDaumPostcode()" value="ìš°í¸ë²ˆí˜¸ ì°¾ê¸°"><br>
                    <input type="text" id="sample6_address" placeholder="{{user.address}}"><br>
                    <input type="text" id="sample6_detailAddress" placeholder="{{user.detailAddress}}">
                    <input type="text" id="sample6_extraAddress" placeholder="{{user.extraAddress}}">
                    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
                    <script>
                        function sample6_execDaumPostcode() {
                            new daum.Postcode({
                                oncomplete: function(data) {
                // íŒì—…ì—ì„œ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­í–ˆì„ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„.

                // ê° ì£¼ì†Œì˜ ë…¸ì¶œ ê·œì¹™ì— ë”°ë¼ ì£¼ì†Œë¥¼ ì¡°í•©í•œë‹¤.
                // ë‚´ë ¤ì˜¤ëŠ” ë³€ìˆ˜ê°€ ê°’ì´ ì—†ëŠ” ê²½ìš°ì—” ê³µë°±('')ê°’ì„ ê°€ì§€ë¯€ë¡œ, ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ë¶„ê¸° í•œë‹¤.
                                    var addr = ''; // ì£¼ì†Œ ë³€ìˆ˜
                                    var extraAddr = ''; // ì°¸ê³ í•­ëª© ë³€ìˆ˜

                //ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œ íƒ€ì…ì— ë”°ë¼ í•´ë‹¹ ì£¼ì†Œ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
                                    if (data.userSelectedType === 'R') { // ì‚¬ìš©ìê°€ ë„ë¡œëª… ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°
                                        addr = data.roadAddress;
                                    } else { // ì‚¬ìš©ìê°€ ì§€ë²ˆ ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°(J)
                                        addr = data.jibunAddress;
                                    }

                // ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œê°€ ë„ë¡œëª… íƒ€ì…ì¼ë•Œ ì°¸ê³ í•­ëª©ì„ ì¡°í•©í•œë‹¤.
                                    if(data.userSelectedType === 'R'){
                    // ë²•ì •ë™ëª…ì´ ìˆì„ ê²½ìš° ì¶”ê°€í•œë‹¤. (ë²•ì •ë¦¬ëŠ” ì œì™¸)
                    // ë²•ì •ë™ì˜ ê²½ìš° ë§ˆì§€ë§‰ ë¬¸ìê°€ "ë™/ë¡œ/ê°€"ë¡œ ëë‚œë‹¤.
                                        if(data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)){
                                            extraAddr += data.bname;
                                        }
                                        // ê±´ë¬¼ëª…ì´ ìˆê³ , ê³µë™ì£¼íƒì¼ ê²½ìš° ì¶”ê°€í•œë‹¤.
                                        if(data.buildingName !== '' && data.apartment === 'Y'){
                                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                                        }
                                        // í‘œì‹œí•  ì°¸ê³ í•­ëª©ì´ ìˆì„ ê²½ìš°, ê´„í˜¸ê¹Œì§€ ì¶”ê°€í•œ ìµœì¢… ë¬¸ìì—´ì„ ë§Œë“ ë‹¤.
                                        if(extraAddr !== ''){
                                            extraAddr = ' (' + extraAddr + ')';
                                        }
                                        // ì¡°í•©ëœ ì°¸ê³ í•­ëª©ì„ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                                        document.getElementById("sample6_extraAddress").value = extraAddr;
                
                                    } else {
                                        document.getElementById("sample6_extraAddress").value = '';
                                    }

                // ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                                    document.getElementById('sample6_postcode').value = data.zonecode;
                                    document.getElementById("sample6_address").value = addr;
                // ì»¤ì„œë¥¼ ìƒì„¸ì£¼ì†Œ í•„ë“œë¡œ ì´ë™í•œë‹¤.
                                    document.getElementById("sample6_detailAddress").focus();
                                }
                            }).open();
                        }
                    </script>
                    <!-- <label for="homenum"></label>
                    <input type="text" id="homenum" name="homenum" placeholder="{{user.homenum}}">
                    <button type="find">ì°¾ê¸°</button>
                    <br>
                    <label for="location"></label>
                    <input type="text" id="location" name="location" placeholder="{{user.location}}">
                    <label for="detaillocation"></label>
                    <input type="text" id="detaillocation" name="detaillocation" placeholder="{{user.detaillocation}}">
                    <br> -->
                </td>
            </tr>

            <tr>
                <th>í•¸ë“œí°</th>
                <td>
                    <label for="changenum"></label>
                    <input type="tel" id="changenum" name="changenum" placeholder="{{user.number}}">
                </td>
            </tr>

            <tr>
                <th>ì´ë©”ì¼</th>
                <td>
                    <label for="changeemail"></label>
                    <input type="email" id="changeemail" name="changeemail" placeholder="{{user.email}}">
                </td>
            </tr>
        </table>
        
        <div id=button>
            <a href="{% url 'account:stchange' %}"target="_blank">
                <button type="submit">ìˆ˜ì •</button>
            </a>
            <a href="{% url 'account:stcancel' %}"target="_blank">
                <button type="reset">ì·¨ì†Œ</button>
            </a>
            <a href="{% url 'account:stdelete' %}"target="_blank"><h5>íšŒì› íƒˆí‡´í•˜ê¸°</h5></a>
        </div>
    </div>
{% endblock %}
</body>
</html>
{% block footer %}
{% include "partials/footer.html" %}
{% endblock %}